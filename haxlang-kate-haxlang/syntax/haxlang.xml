<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE language SYSTEM "language.dtd">
<language name="HaxLang" version="0.1" kateversion="5.0" section="Sources" extensions="*.hax" mimetype="text/x-hax">
  <highlighting>
    <itemDatas>
      <itemData name="Normal Text" defStyleNum="dsNormal"/>
      <itemData name="Keyword" defStyleNum="dsKeyword"/>
      <itemData name="Data Type" defStyleNum="dsDataType"/>
      <itemData name="Comment" defStyleNum="dsComment"/>
      <itemData name="String" defStyleNum="dsString"/>
      <itemData name="Char" defStyleNum="dsChar"/>
      <itemData name="Number" defStyleNum="dsDecVal"/>
      <itemData name="Operator" defStyleNum="dsOperator"/>
      <itemData name="Variable" defStyleNum="dsVariable"/>
      <itemData name="Function" defStyleNum="dsFunction"/>
    </itemDatas>

    <contexts>
      <context name="Normal" attribute="Normal Text" lineEndContext="#stay">
        <Detect2Chars char="-" char1="-" attribute="Comment" context="Comment"/>

        <DetectChar char="&quot;" attribute="String" context="StringDQ"/>
        <DetectChar char="'" attribute="String" context="StringSQ"/>

        <StringDetect String="::" attribute="Operator" context="#stay"/>
        <StringDetect String=":=" attribute="Operator" context="#stay"/>
        <StringDetect String="->" attribute="Operator" context="#stay"/>
        <StringDetect String="==" attribute="Operator" context="#stay"/>
        <StringDetect String="!=" attribute="Operator" context="#stay"/>
        <StringDetect String="<=" attribute="Operator" context="#stay"/>
        <StringDetect String=">=" attribute="Operator" context="#stay"/>
        <StringDetect String="=>" attribute="Operator" context="#stay"/>
        <AnyChar String="=+-*/%&lt;&gt;^.,;:(){}[]" attribute="Operator" context="#stay"/>

        <DetectChar char="$" attribute="Variable" context="VarName"/>
        <DetectChar char="@" attribute="Variable" context="VarName"/>
        <DetectChar char="%" attribute="Variable" context="VarName"/>
        <DetectChar char="^" attribute="Variable" context="VarName"/>

        <Int attribute="Number" context="#stay"/>
        <Float attribute="Number" context="#stay"/>

        <StringDetect String="Void" attribute="Data Type" context="#stay" />
        <StringDetect String="Int"  attribute="Data Type" context="#stay" />
        <StringDetect String="Num"  attribute="Data Type" context="#stay" />
        <StringDetect String="Bool" attribute="Data Type" context="#stay" />
        <StringDetect String="Str"  attribute="Data Type" context="#stay" />

        <StringDetect String="module" attribute="Keyword" context="#stay"/>
        <StringDetect String="import" attribute="Keyword" context="#stay"/>
        <StringDetect String="from" attribute="Keyword" context="#stay"/>
        <StringDetect String="as" attribute="Keyword" context="#stay"/>
        <StringDetect String="pub" attribute="Keyword" context="#stay"/>
        <StringDetect String="priv" attribute="Keyword" context="#stay"/>
        <StringDetect String="enum" attribute="Keyword" context="#stay"/>
        <StringDetect String="struct" attribute="Keyword" context="#stay"/>
        <StringDetect String="class" attribute="Keyword" context="#stay"/>
        <StringDetect String="sub" attribute="Keyword" context="AfterSub"/>
        <StringDetect String="method" attribute="Keyword" context="AfterSub"/>
        <StringDetect String="mut" attribute="Keyword" context="#stay"/>
        <StringDetect String="field" attribute="Keyword" context="#stay"/>
        <StringDetect String="var" attribute="Keyword" context="#stay"/>
        <StringDetect String="local" attribute="Keyword" context="#stay"/>
        <StringDetect String="static" attribute="Keyword" context="#stay"/>
        <StringDetect String="global" attribute="Keyword" context="#stay"/>
        <StringDetect String="if" attribute="Keyword" context="#stay"/>
        <StringDetect String="elsif" attribute="Keyword" context="#stay"/>
        <StringDetect String="else" attribute="Keyword" context="#stay"/>
        <StringDetect String="while" attribute="Keyword" context="#stay"/>
        <StringDetect String="for" attribute="Keyword" context="#stay"/>
        <StringDetect String="foreach" attribute="Keyword" context="#stay"/>
        <StringDetect String="in" attribute="Keyword" context="#stay"/>
        <StringDetect String="case" attribute="Keyword" context="#stay"/>
        <StringDetect String="when" attribute="Keyword" context="#stay"/>
        <StringDetect String="break" attribute="Keyword" context="#stay"/>
        <StringDetect String="continue" attribute="Keyword" context="#stay"/>
        <StringDetect String="return" attribute="Keyword" context="#stay"/>
        <StringDetect String="and" attribute="Keyword" context="#stay"/>
        <StringDetect String="or" attribute="Keyword" context="#stay"/>
        <StringDetect String="not" attribute="Keyword" context="#stay"/>
        <StringDetect String="true" attribute="Keyword" context="#stay"/>
        <StringDetect String="false" attribute="Keyword" context="#stay"/>

        <StringDetect String="__" attribute="Function" context="IntrinsicName"/>

        <!-- Start of a capitalized identifier; may be Type:: -->
        <DetectChar char="A" attribute="Data Type" context="TypeMaybe"/>
        <DetectChar char="B" attribute="Data Type" context="TypeMaybe"/>
        <DetectChar char="C" attribute="Data Type" context="TypeMaybe"/>
        <DetectChar char="D" attribute="Data Type" context="TypeMaybe"/>
        <DetectChar char="E" attribute="Data Type" context="TypeMaybe"/>
        <DetectChar char="F" attribute="Data Type" context="TypeMaybe"/>
        <DetectChar char="G" attribute="Data Type" context="TypeMaybe"/>
        <DetectChar char="H" attribute="Data Type" context="TypeMaybe"/>
        <DetectChar char="I" attribute="Data Type" context="TypeMaybe"/>
        <DetectChar char="J" attribute="Data Type" context="TypeMaybe"/>
        <DetectChar char="K" attribute="Data Type" context="TypeMaybe"/>
        <DetectChar char="L" attribute="Data Type" context="TypeMaybe"/>
        <DetectChar char="M" attribute="Data Type" context="TypeMaybe"/>
        <DetectChar char="N" attribute="Data Type" context="TypeMaybe"/>
        <DetectChar char="O" attribute="Data Type" context="TypeMaybe"/>
        <DetectChar char="P" attribute="Data Type" context="TypeMaybe"/>
        <DetectChar char="Q" attribute="Data Type" context="TypeMaybe"/>
        <DetectChar char="R" attribute="Data Type" context="TypeMaybe"/>
        <DetectChar char="S" attribute="Data Type" context="TypeMaybe"/>
        <DetectChar char="T" attribute="Data Type" context="TypeMaybe"/>
        <DetectChar char="U" attribute="Data Type" context="TypeMaybe"/>
        <DetectChar char="V" attribute="Data Type" context="TypeMaybe"/>
        <DetectChar char="W" attribute="Data Type" context="TypeMaybe"/>
        <DetectChar char="X" attribute="Data Type" context="TypeMaybe"/>
        <DetectChar char="Y" attribute="Data Type" context="TypeMaybe"/>
        <DetectChar char="Z" attribute="Data Type" context="TypeMaybe"/>
      </context>

      <context name="VarName" attribute="Variable" lineEndContext="#pop">
        <RegExpr attribute="Variable" context="#pop" String="[A-Za-z_][A-Za-z0-9_]*"/>
        <DetectSpaces context="#pop"/>
        <AnyChar String="(){}[];:.,+-*/%&lt;&gt;=" context="#pop"/>
      </context>

      <context name="AfterSub" attribute="Normal Text" lineEndContext="#stay">
        <DetectSpaces/>
        <RegExpr attribute="Function" context="#pop" String="[A-Za-z_][A-Za-z0-9_]*"/>
        <AnyChar String="(){}[];:.,+-*/%&lt;&gt;=" attribute="Normal Text" context="#pop"/>
      </context>

      <context name="IntrinsicName" attribute="Function" lineEndContext="#pop">
        <RegExpr attribute="Function" context="#pop" String="[_A-Za-z][_A-Za-z0-9_]*"/>
        <AnyChar String="(){}[];:.,+-*/%&lt;&gt;=" context="#pop"/>
      </context>

      <context name="TypeMaybe" attribute="Data Type" lineEndContext="#pop">
        <RegExpr attribute="Data Type" context="TypeMaybe" String="[A-Za-z0-9_]*"/>
        <StringDetect String="::" attribute="Operator" context="#pop"/>
        <AnyChar String="(){}[];:.,+-*/%&lt;&gt;=" attribute="Normal Text" context="#pop"/>
        <DetectSpaces context="#pop"/>
      </context>

      <context name="Comment" attribute="Comment" lineEndContext="#stay">
        <Detect2Chars char="-" char1="-" attribute="Comment" context="#pop"/>
      </context>

      <context name="StringDQ" attribute="String" lineEndContext="#stay">
        <RegExpr attribute="Char" context="#stay" String="\\[\\&quot;nrt]"/>
        <DetectChar char="&quot;" attribute="String" context="#pop"/>
      </context>

      <context name="StringSQ" attribute="String" lineEndContext="#stay">
        <DetectChar char="'" attribute="String" context="#pop"/>
      </context>
    </contexts>
  </highlighting>

  <general>
    <comments>
      <comment name="block" start="--" end="--"/>
    </comments>
  </general>
</language>
